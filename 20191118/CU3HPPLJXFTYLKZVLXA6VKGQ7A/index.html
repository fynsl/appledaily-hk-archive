<html><header><meta charset="utf-8"><title>投資者風險管理有法　減少損失善用長短倉策略抗股災</title></header><body><h1>投資者風險管理有法　減少損失<br>善用長短倉策略抗股災</h1><p>【數碼金魚缸】筆者在上一篇文章「機器學習選股實戰」介紹「爬山算法」，利用它自動找出優化的投資組合，效率比隨機算法要高。筆者也提及，放寬算法的約束（constrain），還可以創造出更大靈活性的投資組合，包括孖展組合或是長短倉組合等。</p><p>長倉策略（long only strategy）的好處是簡單易操作，而且在大牛市時往往贏最多錢，大部份基金也是長倉策略。然而長倉策略的毛病，是它總會跟大市有一定相關性。當出現系統性風險事件時，例如2008年金融海嘯這種程度的打擊，不論如何優化的長倉組合也會受到打擊。</p><p>容許借錢買貨或沽空</p><p>長短倉（long short strategy）則透過同時持有長倉及短倉，淨倉位接近零，使波動性互相抵銷，市場相關性大減。長短倉的預期回報率主要並非依賴大市升幅，而是來自放大強勢股和弱勢股當中的回報率之差別，亦即行家所講的賺Alpha而不賺Beta。<br><br>上期使用的長倉策略，對爬山算法設定了兩項約束。約束一：是把X1, X2, X3……Xn的總和約束為1，意味策略只適用於現金（非孖展）賬戶，而且只能滿倉。約束二：規定每個個別X值的區間位於0至w之間，而w是單一股票的比重上限。<br><br>這次筆者進一步放寬這些約束，首先是容許X的總和值處於某個區間當中浮動，算法可決定持有現金、滿倉，甚至可以使用孖展。另外，筆者也把個別X值的約束放寬至-w至+w之間，可容許算法沽空某隻股票，去增加回報或降低風險。這種設定理論上是最自由，容許使用任意策略去優化夏普比率。<br><br>把爬山算法所建議的首10大長倉及短倉列表出來，發現算法仍然是偏向買入夏普比率高的股票，沽出夏普比率低的股票。長短倉的夏普比率為293.4%，相對上一篇稿的長倉組合高出超過一倍，主要是因為標準差降低，其次也因為預期回報率提高了。爬山算法可能會建議太多的持倉，實際執行時可能有困難，因應實際情況忽略比重低的持倉，對整體結果未必影響很大。</p><p>用VaR作風險管理指標</p><p>風險（risk）在量化金融學上的定義，一般是指年化回報率分佈的標準差。使用夏普比率去衡量組合表現，可說是綜合了回報與風險之間的衡量。夏普比率高的組合，可以是因為它的預期回報率超高，並不一定是風險低。標準差越大，回報率的分佈越闊，有更大機率跌入負數區域。如果金融市場是隨機漫步，投資者不應期望自己可以預測「黑天鵝事件」而避過股災，只能在萬一發生時把損失盡量減少。長短倉策略有效地把標準差降低，因此是有效的風險管理策略。<br><br>對沖基金常用到的一個風險管理指標稱為Value at Risk（VaR），例如說5% VaR是h，意思是指某投資組合預期有5%機率在一年後的損失會大於h，或有95%機率一年後損失少於h。投資組合的回報率分佈接近常態，一年後的預期回報率約有5%處於預期值的1.65個標準差之下；由此可計算VaR的損失值水平，標準差越低，VaR所代表的損失越少。</p><p>須擁孖展賬戶</p><p>關於長短倉操作，有幾點需要留意。一般客戶用的證券賬戶，多是稱為現金賬戶（cash account），只能以現金買入股票，不能借孖展也不能沽空股票。要做到長短倉組合，是需要使用到孖展賬戶（margin account）。<br><br>筆者是使用盈透（Interactive Brokers）賬戶，而且操作以美股市場為主。美股借股票沽空相對容易，如果賬戶本身並未持有某一股票，接到賬戶下達沽出股票指令，系統自動尋找即時借入股票並排隊於市場沽出，借貨的利息及股息安排等也會自動完成。<br><br>港股操作類似，但借入港股或需較長時間執行，而且可能需付上較高借貨利息，需視乎個別券商的實際結算安排。以上這些成本也對組合回報率造成影響，分析長短倉策略時也務必須考慮這些成本影響，並選用適合的券商。<br><br>另外，長短倉策略的計算槓桿方法亦需要注意，賬戶要求的孖展保證金，是以總持倉而非淨持倉計算。舉例說假如A和B股票持倉比重分別為+20%和-10%，淨持倉計法是10%，但孖展賬戶計算保證金的方法，是以總持倉絕對值的總和等於30%作為基礎去計算。</p><p>長短倉也是槓桿策略</p><p>筆者用港股和美股的數據做回歸測試時，暫時仍未獲得十分準確的預期回報率預測結果。初步估計是因為實際和預期回報率有所落差，而長短倉策略的槓桿特性把這種差異放大了。儘管如此，長短倉策略仍然對比長倉策略有更好的風險管理。<br><br>對於預期回報率的預測，應該加倍小心。由於算法可能偏向買入/沽空預期回報率最高/低的股票去建立組合，然而，若以過去一段時間內的歷史平均值為預測基礎，這種基礎有可能隨時間而改變。長短倉策略對比長倉策略不同，長短倉所承受的波幅是來自兩邊的。如果同時低估了長倉預期升幅，也高估了短倉預期跌幅，實際回報率對比預期回報率的落差將更大。<br><br>在計算預期回報率時要小心選擇時間長度，並提出合理質疑；若懷疑基本面有着重大改變以致歷史數據缺乏代表性，則應該使用另一時期的數據作為預測的參考。量子雪球<br><br>筆者編寫的爬山算法源碼放於以下連結，有興趣讀者可自行下載測試：Github： https://bit.ly/2Ol3axn <br><br>作者電郵：mailto:quantum.snowball@gmail.com</p></body></html>