<html><header><meta charset="utf-8"><title>VIX預示美股牛市未完交易算法建議近滿倉持貨</title></header><body><h1>VIX預示美股牛市未完<br>交易算法建議近滿倉持貨</h1><p>【數碼金魚缸】芝加哥期權交易所的VIX指數（CBOE Volatility Index）經常被媒體形容為恐慌指數，一般的理解是當VIX指數上升至高水平，市場傾向下跌，反之亦然。筆者翻查資料，VIX指數在1990年創建，其原理是測量標普500指數期權未來30天波動性預期的指標。因此，VIX指數是一個前瞻性（forward-looking）的指標，理論上有一定的預測性。VIX指數升至高位時降低倉位，便可以準確地避開跌市嗎？筆者用Python寫了一條簡單交易算法，並做了一系列回歸測試去嘗試解答這個問題。</p><p>筆者的概念是要使交易算法在VIX指數偏高時減少持倉，在VIX指數偏低時增加持倉。實際寫交易算法時所面臨首個問題是，如何定義VIX指數是高或低？如果以一個固定數值作為定義，例如硬性把20點以上定義為偏高，似乎是沒有意義的。因為在過去20年，VIX指數的平均值及其波動區間也是很浮動的。<br><br>近十年相對之前的十年，VIX指數的平均值明顯地降低了。因此，在設計交易算法時筆者採用移動視窗（rolling window）的方式進行計算，使用移動視窗觀察過去一段時期內指數的統計值作為參考，定義當刻的指數值屬於高或低。</p><p>加入平滑化 減短期波動</p><p>另外，由於目標是要作出中長線趨勢性預測，筆者也對VIX指數加入了平滑化的處理，移除部份VIX指數的短期波動性。再進一步，筆者以百分位數（percentile score）去定義當刻的指數到底「有多高」。舉例說，如果目前的指數值相對於移動視窗內的統計值的百分位數為80%，則代表指數值高於過去八成的交易日，可能屬於偏高。交易算法把百份位數作為參考指標去決定倉位應該有多高，從而作出買賣的建議。<br><br>筆者在回歸測試使用的是美股主要的指數基金SPDR S&amp;P 500 ETF（SPY）。以上文所述的交易算法決定SPY的倉位作為主動策略，同時全額長倉持有SPY成為被動策略以作比較。由於要探討VIX指數是否可以避開股災，或者是否能夠在股災當中早一步降低倉位減少損失，因此回歸測試年期需要包括主要股災的數據。年期是自2000年至今接近20年的數據，這段時期包括了2000年科網股泡沫爆破，及2008年金融海嘯等大型股災，應該足夠提供具備挑戰性的回歸測試環境。</p><p>交易算法跑贏長倉基金</p><p>另外，程式有很多不同的參數設定，例如是移動視窗的長度、平滑化視窗的長度、最高和最低倉位限制等。筆者寫了另一程式去反覆測試300多種不同的參數組合，務求找出最好的參數組合。實驗使用了一系列指標，包括平均預期回報率、標準差、夏普比率、最大下調幅度、複利年滾存率等去驗證回歸測試的成效，並使用夏普比率作為勝負及優化的最終參考，因為這個指標是同時衡量了回報率及波動性在內。<br><br>實驗結果顯示，能提供最高夏普比率的參數組合，是把倉位設定在0.5倍至1.8倍之間，移動視窗使用50日，平滑化視窗使用100日。<br><br>測試接近20年數據的結果顯示（見圖），主動策略獲得306%總回報率，跑贏了被動策略的213%總回報率。主動策略的平均年回報率7.05%，高於指數基金的5.74%，然而主動策略的回報率標準差21%，也稍稍高於被動策略的19%。以夏普比率衡量，主動策略約21.7%，是高於被動策略的17.1%。<br><br>不過，主動策略於2008年金融海嘯期間的最大下調幅度約62.5%，也稍稍大於被動策略。在2008年股災發生之前，交易算法曾經把倉位降至低位，但卻於市場未見底的情況下重新加倉，意味着它只避開了半個股災。在2000年的情況類似，整個跌浪期間高低持倉各佔一半。由此可見，交易算法不能完全避過股災，然而總算是跑贏了被動持有的策略。</p><p>避開股災錯失牛市升幅</p><p>如果使用較保守的設定，例如降低倉位的區間，使交易算法嘗試在VIX指數高位時把倉位降至零，雖然可避開大跌市，然而在牛市時期交易算法可能過份敏感，於VIX指數稍稍偏高時便減低倉位，導致錯失牛市的巨大升幅。因此，在反覆測試後發現最好的參數組合，是把倉位設定於0.5倍至1.8倍之間。<br><br>不過，這種設定意味在股災時也保留一半的持倉，變相要硬食跌市，寧願在牛市時以槓桿增加持倉爭取回報，一般可以完全追回損失。這種設定，反映了在迴避風險與爭取回報之間的一種取捨，在資產質量良好的股市中投資，長倉組合的最佳策略也許就是在任何情況下也保持一定數量的長倉，不應採取現金為王的策略，因為避過股災所帶來的利益，一般不足以彌補錯失牛市巨大升幅所帶來的機會成本損失。<br><br>交易算法最新建議的目標倉位是有參考價值的，可以當作美股牛熊指標的參考。目前交易算法的建議是把倉位維持於1.5倍左右，是處於設定所容許下的接近滿倉狀態，是屬於偏向看好美股指數後市的訊號。儘管目前中美正在打貿易戰，美股波動性卻處於低水平，筆者解讀為一種良好的訊號，證明美股的不明朗性是偏低。最近美國公佈的經濟數據仍然偏向強勁，或是反映中美貿易戰等的宏觀因素也不足以動搖美國經濟的根基。<br><br>量子雪球<br>作者電郵：mailto:quantum.snowball@gmail.com<br></p></body></html>